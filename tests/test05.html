<html>
  <head>
    <title>HotDrink Test</title>
    <script type="text/javascript" src="hotdrink.js"></script>
    <script type="text/javascript">
var m;
function init() {
  hd.builder
    .model( 'dim' )
    .variables( {left: 0, top: 0, right: undefined, bottom: undefined,
                 width: 200, height: 200, aspect: undefined} )

    .constraint()
    .method( 'right, width -> left', function() { return this.right - this.width; } )
    .method( 'left, width -> right', function() { return this.left + this.width; } )
    .method( 'left, right -> width', function() { return this.right - this.left; } )

    .constraint()
    .method( 'bottom, height -> top', function() { return this.height - this.bottom; } )
    .method( 'top, height -> bottom', function() { return this.top + this.height; } )
    .method( 'top, bottom -> height', function() { return this.bottom - this.top; } )

    .constraint()
    .method( 'height, aspect -> width', function() { return this.height * this.aspect; } )
    .method( 'width, aspect -> height', function() { return this.width / this.aspect; } )
    .method( 'width, height -> aspect', function() { return this.width / this.height; } );

  hd.bind();
}
    </script>
  </head>
  <body onload="init()">
    <p>
      Same as <a href="test03.html">test03.html</a> only with automatic
      binding.
    </p>
    <table>
      <tr>
        <td>Left:</td>
        <td><input type="text" data-bind="number: dim.left"/></td>
        <td>Right:</td>
        <td><input type="text" data-bind="number: dim.right"/></td>
        <td>Width:</td>
        <td><input type="text" data-bind="number: dim.width"/></td>
        <td rowspan="2">Aspect:</td>
        <td rowspan="2"><input type="text" data-bind="number: dim.aspect"/></td>
      </tr>
      <tr>
        <td>Top:</td>
        <td><input type="text" data-bind="number: dim.top"/></td>
        <td>Bottom:</td>
        <td><input type="text" data-bind="number: dim.bottom"/></td>
        <td>Height:</td>
        <td><input type="text" data-bind="number: dim.height"/></td>
      </tr>
    </table>
  </body>
</html>
